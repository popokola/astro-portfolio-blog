---
import HeaderLink from './HeaderLink.astro';
import { SITE_TITLE } from '../consts';
import ThemeToggle from './ThemeToggle';
import { PiGithubLogoLight } from 'react-icons/pi';
import  SvgAnimated from './SvgAnimated';
import One from './One';
import { getLangFromUrl, useTranslations, useTranslatedPath } from '../i18n/utils';
import LanguagePicker from './LanguagePicker.astro';


const svg = `
<svg viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg"><path d="M206.13,75.92A57.79,57.79,0,0,0,201.2,29a6,6,0,0,0-5.2-3,57.77,57.77,0,0,0-47,24H123A57.77,57.77,0,0,0,76,26a6,6,0,0,0-5.2,3,57.79,57.79,0,0,0-4.93,46.92A55.88,55.88,0,0,0,58,104v8a54.06,54.06,0,0,0,50.45,53.87A37.85,37.85,0,0,0,98,192v10H72a26,26,0,0,1-26-26A38,38,0,0,0,8,138a6,6,0,0,0,0,12,26,26,0,0,1,26,26,38,38,0,0,0,38,38H98v18a6,6,0,0,0,12,0V192a26,26,0,0,1,52,0v40a6,6,0,0,0,12,0V192a37.85,37.85,0,0,0-10.45-26.13A54.06,54.06,0,0,0,214,112v-8A55.88,55.88,0,0,0,206.13,75.92ZM202,112a42,42,0,0,1-42,42H112a42,42,0,0,1-42-42v-8a43.86,43.86,0,0,1,7.3-23.69,6,6,0,0,0,.81-5.76,45.85,45.85,0,0,1,1.43-36.42,45.85,45.85,0,0,1,35.23,21.1A6,6,0,0,0,119.83,62h32.34a6,6,0,0,0,5.06-2.76,45.83,45.83,0,0,1,35.23-21.11,45.85,45.85,0,0,1,1.43,36.42,6,6,0,0,0,.79,5.74A43.78,43.78,0,0,1,202,104Z"></path></svg>
`;

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);
---


<header class="fixed w-full pt-2.5 px-2.5 z-20 backdrop-blur-md">
	<div class="max-w-6xl text-zinc-800 dark:text-zinc-300 md:mx-auto"> 
		<nav class="flex items-center gap-8 md:gap-12 text-base">
		  <a href={translatePath('/')} class="group">
			
			<h2 class="font-semibold text-xl tracking-tighter p-2">
					{SITE_TITLE}
			</h2>
			
		  </a>
		  <div class="items-center gap-6 hidden md:flex">
			<HeaderLink
			  href="https://github.com/popokola/astro-portfolio-blog"
			  target="_blank"><PiGithubLogoLight className='w-4 h-w md:h-5 md:w-5' /> {t('nav.source')} </HeaderLink
			>
			<HeaderLink href={translatePath('/blog/')}> {t('nav.blog')} </HeaderLink>
			<HeaderLink href={translatePath('/CV/')}> {t('nav.cv')} </HeaderLink>
		  </div>
		  <div class="flex-1"></div>
		  <div class="flex items-center gap-2">
			<LanguagePicker />
			<ThemeToggle client:visible />
		  </div>
		</nav>
		<!--  <SvgAnimated svgContent={svg} client:only/> -->
		<One client:visible/>
	</div>
</header>
